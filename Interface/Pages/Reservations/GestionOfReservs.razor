@page "/GestionOfReservs"
@inject Session Session
@inject NavigationManager NavigationManager
@using BusinessLogic

@code {
    
    private NavigationManager _navigationManager;
    
    protected override void OnInitialized()
    {
        _navigationManager = NavigationManager; 
        if (UserIsAdministrator())
        {
            GoToGestionOfReservsForAdmins(); 
        }
        else
        {
            GoToGestionOfReservsForClients(); 
        }
    }

    private bool UserIsAdministrator()
    {
        return Session.ActiveUser.IsAdministrator;
    }

    private void GoToGestionOfReservsForAdmins()
    {
        _navigationManager.NavigateTo("/GestionOfReservsAdmin");
    }

    private void GoToGestionOfReservsForClients()
    {
        _navigationManager.NavigateTo("/GestionOfReservsClient");
    }
}