@page "/GestionOfReservs"

@using BusinessLogic.Controllers

@inject SessionController SessionController
@inject NavigationManager NavigationManager

@code {
    
    private NavigationManager _navigationManager;
    
    protected override void OnInitialized()
    {
        _navigationManager = NavigationManager; 
        if (UserIsAdministrator())
        {
            GoToGestionOfReservsForAdmins(); 
        }
        else
        {
            GoToGestionOfReservsForClients(); 
        }
    }

    private bool UserIsAdministrator()
    {
        return SessionController.ActiveUser.IsAdministrator;
    }

    private void GoToGestionOfReservsForAdmins()
    {
        _navigationManager.NavigateTo("/GestionOfReservsAdmin");
    }

    private void GoToGestionOfReservsForClients()
    {
        _navigationManager.NavigateTo("/GestionOfReservsClient");
    }
}